<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>그림의 디지털 표현</title>
  <link rel="stylesheet" href="../assets/css/styles.css" />
  <!-- Swiper.js CDN 추가 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <style>
    /* 색상 팔레트 구성 영역 오버라이드 */
    .color-picker {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.08);
      padding: 2.5rem 2.5rem 2rem 2.5rem;
      margin-bottom: 2.5rem;
      margin-top: 2.5rem;
      width: 100%;
      max-width: 1000px;
      margin-left: auto;
      margin-right: auto;
      display: flex;
      flex-direction: column;
      gap: 2.2rem;
      position: relative;
      border: none;
    }
    .color-picker::before {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 7px;
      border-radius: 16px 16px 0 0;
      background: linear-gradient(90deg, #ff5858 0%, #f09819 20%, #fffa65 40%, #38ef7d 60%, #17ead9 80%, #7f53ac 100%);
    }
    .color-picker h4 {
      font-size: 1.45rem;
      margin-bottom: 1.5rem;
      color: #1a2233;
      font-weight: 800;
      letter-spacing: -0.5px;
      margin-top: 0.7rem;
      z-index: 1;
      position: relative;
    }
    .color-controls {
      display: flex;
      flex-direction: column;
      gap: 1.7rem;
      width: 100%;
    }
    .color-controls .input-group {
      display: flex;
      flex-direction: column;
      gap: 0.9rem;
      width: 100%;
    }
    .color-controls label {
      font-weight: 700;
      margin-bottom: 0.2rem;
      color: #222b3a;
      font-size: 1.08rem;
    }
    .color-controls .input-wrapper {
      display: flex;
      flex-direction: column;
      gap: 0.7rem;
      align-items: stretch;
      width: 100%;
    }
    .color-controls input[type="number"],
    .color-controls select {
      padding: 0.85rem 1.1rem;
      border: 1.5px solid #cfd8dc;
      border-radius: 7px;
      font-size: 1.08rem;
      min-width: 160px;
      background: #f8fafc;
      width: 100%;
      box-sizing: border-box;
      font-weight: 500;
    }
    .color-controls button {
      padding: 0.85rem 1.5rem;
      background: linear-gradient(90deg, #4fd1c5 0%, #38a1db 100%);
      color: #fff;
      border: none;
      border-radius: 7px;
      font-weight: 800;
      font-size: 1.08rem;
      cursor: pointer;
      transition: background 0.2s;
      width: 100%;
      margin-top: 0.5rem;
      letter-spacing: 0.5px;
    }
    .color-controls button:hover {
      background: linear-gradient(90deg, #38a1db 0%, #4fd1c5 100%);
    }
    .color-controls .input-guide {
      background: #f1f8e9;
      color: #388e3c;
      border-left: 4px solid #81c784;
      padding: 0.9rem 1.1rem;
      border-radius: 7px;
      margin-top: 0.7rem;
      font-size: 1.01rem;
      width: 100%;
      font-weight: 500;
    }
    .color-options {
      margin-top: 2.2rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.9rem;
      justify-content: flex-start;
      width: 100%;
    }
    @media (max-width: 900px) {
      .color-picker {
        padding: 1.2rem 0.5rem 1.2rem 0.5rem;
        max-width: 98vw;
      }
    }
    /* 팔레트 색상 버튼 등 추가 스타일 필요시 여기에 */
    .rgb-section-title {
      margin-top: 3.5rem !important;
    }
    .pixel-challenge-section {
      margin-bottom: 3.5rem !important;
    }
  </style>
</head>
<body>
  <header>
    <h1>그림의 디지털 표현</h1>
    <nav>
      <ul>
        <li><a href="../index.html">홈</a></li>
        <li><a href="bit.html">비트란?</a></li>
        <li><a href="binary.html">숫자의 디지털 표현</a></li>
        <li><a href="text.html">문자의 디지털 표현</a></li>
        <li><a href="image.html">그림의 디지털 표현</a></li>
        <li><a href="sound.html">소리의 디지털 표현</a></li>
        <li><a href="video.html">동영상의 디지털 표현</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <div class="swiper-container">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <section class="image-digital">
            <h2>그림의 디지털 표현</h2>
            <p class="image-explanation">
              컴퓨팅 시스템에서 그림을 디지털로 표현하는 방식은 <b>비트맵</b> 방식과 <b>벡터</b> 방식이 있습니다.<br>
              <b>비트맵</b> 방식은 픽셀을 이용하여 그림을 표현하는 방식입니다.<br>
              <b>벡터</b> 방식은 수학적인 정보(점, 선 등)를 이용하여 그림을 표현하는 방식입니다.<br>
              두 가지 방식이 존재하지만 우리에게 조금더 익숙한 그림의 디지털 표현 방식은 픽셀을 이용한 <b>비트맵</b> 방식입니다.<br><br>
              <h3 style="text-align: center;">다음에서 <b>비트맵</b> 방식에 대해 조금 더 자세하게 알아봅시다.</h3>
            </p>
          </section>
        </div>
        <div class="swiper-slide">
          <section class="pixel-challenge-section">
            <h2>해상도의 차이 살펴보기</h2>
            <p class="challenge-description">
              <b>픽셀(Pixel)</b>이란 디지털로 표현된 그림을 구성하는 가장 기본적인 구성으로 작은 사각형 모양의 점입니다.<br>
              컴퓨팅 시스템은 <b>픽셀</b>에 한 가지 색상을 넣어 여러 개의 픽셀을 사용하여 그림을 표현합니다.<br>
              많은 개수의 픽셀을 사용할수록 더욱 정확하고 선명하게 그림을 표현할 수 있습니다.<br>
              그림을 디지털로 표현했을 때, 사용된 전체 픽셀의 개수를  <b>해상도</b>라고 합니다.<br><br>
              이름 또는 이미지를 픽셀화하고 해상도에 따른 그림의 표현 차이를 체험해 보세요.
            </p>
            <div class="pixel-restoration-challenge">
              <div class="challenge-controls">
                <div class="control-panel">
                  <div class="input-group">
                    <label for="nameInput">📝 내용을 입력하세요:</label>
                    <div class="input-wrapper">
                      <input type="text" id="nameInput" placeholder="예: 홍길동 or Alice">
                      <button class="primary-button" onclick="renderName()">이름 이미지 생성</button>
                    </div>
                  </div>

                  <div class="input-group">
                    <label for="imgUpload">🖼 이미지 업로드:</label>
                    <div class="input-wrapper">
                      <input type="file" id="imgUpload" accept="image/*" class="file-input">
                      <div class="file-input-label">파일 선택</div>
                    </div>
                  </div>

                  <div class="input-group">
                    <label for="resolution">해상도 선택:</label>
                    <div class="input-wrapper">
                      <select id="resolution" class="resolution-select">
                        <option value="8">8 x 6</option>
                        <option value="16">16 x 12</option>
                        <option value="32">32 x 24</option>
                        <option value="64">64 x 48</option>
                        <option value="128">128 x 96</option>
                        <option value="256">256 x 192</option>
                        <option value="400">400 x 300</option>
                        <option value="800" selected>800 x 600</option>
                      </select>
                      <div class="button-group">
                        <button class="primary-button" onclick="applyResolution()">해상도 적용</button>
                        <button class="secondary-button" onclick="downloadImage()">이미지 저장</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="challenge-area">
                <div class="canvas-container">
                  <canvas id="pixelCanvas" width="800" height="600"></canvas>
                </div>
              </div>
            </div>
          </section>
        </div>
        <div class="swiper-slide">
          <section>
            <h2 class="rgb-section-title">RGB 색상을 활용한 그림의 디지털 표현</h2>
            <p>컴퓨팅 시스템에서는 픽셀에 한 가지 색상을 채워넣어 그림을 표현합니다.<br>
               그렇다면 컴퓨팅 시스템에서 색상은 어떻게 표현할까요?<br>
               바로 <b>비트</b>를 이용하여 색상을 표현을 합니다.<br>
               대표적인 색상 표현 방식으로는 <b>RGB(Red, Green, Blue)</b> 방식이 있습니다.<br>
               <b>RGB</b> 색상 표현 방식은 빛의 삼원색인 <b style="color: #ff0000;";>Red(#ff0000)</b>, <b style="color: #00ff00;">Green(#00ff00)</b>, <b style="color: #0000ff;">Blue(#0000ff)</b>을 이용하여 색상을 표현합니다.<br>
               Red에 8비트, Green에 8비트, Blue에 8비트를 부여해 총 24비트를 이용해 색상을 표현하는 방식입니다.<br><br>
               <h3 style="text-align: center;">아래 활동을 통해 컴퓨팅 시스템이 색상과 그림을 표현하는 방식을 학습해봅시다.</h3>
            </p>
            <!-- 1. 색상 팔레트 설정 -->
            <div class="color-picker">
              <h4>1️⃣ 색상 팔레트 구성</h4>
              <div class="color-controls">
                <div class="input-group">
                  <label for="bitCount">비트 수를 선택하세요:</label>
                  <select id="bitCount">
                    <option value="1">1비트 (2색)</option>
                    <option value="2">2비트 (4색)</option>
                    <option value="3">3비트 (8색)</option>
                    <option value="4">4비트 (16색)</option>
                  </select>
                </div>
                <div class="input-group">
                  <label for="numColors">몇 개의 색을 사용할까요?</label>
                  <div class="input-wrapper">
                    <input type="number" id="numColors" min="1" max="2" placeholder="비트 수에 따라 자동 제한" />
                    <button onclick="generatePalette()">팔레트 만들기</button>
                  </div>
                  <div class="input-guide"><strong>※ 안내</strong> 비트 수에 따라 선택 가능한 색상 개수가 자동으로 제한됩니다.</div>
                </div>
              </div>
              <div id="paletteArea" class="color-options"></div>
            </div>
            <!-- 2 & 3. 캔버스 + 미리보기 나란히 배치 -->
            <div class="section">
              <h2>2️⃣ 캔버스 설정</h2>
              <div class="canvas-controls">
                <label for="canvasRows">행 수:</label>
                <input type="number" id="canvasRows" min="1" max="20" value="10">
                <label for="canvasCols">열 수:</label>
                <input type="number" id="canvasCols" min="1" max="20" value="10">
                <button onclick="generateCanvas()">캔버스 생성</button>
              </div>
              <div class="canvas-section">
                <div class="canvas-grid-wrapper">
                  <div>
                    <h3>캔버스</h3>
                    <div id="canvasGrid" class="canvas-grid"></div>
                  </div>
                  <div>
                    <h3>미리보기</h3>
                    <div id="previewGrid" class="preview-grid"></div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
      <div class="swiper-pagination"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  </main>
  <script src="../assets/js/image.js"></script>
  <script src="../assets/js/pixel-challenge.js"></script>
  <script>
    window.onload = function () {
      if (typeof Swiper !== 'undefined') {
        new Swiper('.swiper-container', {
          direction: 'horizontal',
          loop: false,
          pagination: {
            el: '.swiper-pagination',
            clickable: true,
          },
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
          simulateTouch: true,
        });
      }
      // 기존 이미지 업로드 라벨 클릭 이벤트 유지
      var label = document.querySelector('.file-input-label');
      if(label) {
        label.addEventListener('click', function() {
          document.getElementById('imgUpload').click();
        });
      }
    };
  </script>
</body>
</html>
